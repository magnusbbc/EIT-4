MOVI 65100 $r1 //Button Interrupt Service routine 
MOVI #BUTISR $r2
STORE $r2 [$r1]
MOVI 512 $r2 //Enable interrupt, disable nesting
STORE $r2 [$r1+1]

MOVI 65104 $r1 //I2S_out Interrupt serivce routine
MOVI #I2SREADYISR $r2
STORE $r2 [$r1]
MOVI 512 $r2 //Enable interrupt, disable nesting
STORE $r2 [$r1+1]

//Write 0 to 7seg, disable dots
MOVI 0 $r3
MOVI 65000 $r1
STORE $r3 [$r1]
MOVI 15 $r2 
STORE $r2 [65001]

MOVI 1 $r5
STORE $r5 [65009]

MOVI 232 $r5
STORE $r5 [65010]
MOVI #SineStart $r7
LOOP:
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
NOP
JMP #LOOP

I2SREADYISR:
NOP
NOP
JMPR $r7 
SineStart:
NOP
MOVI 2 $r5
NOP
JMP  #OUT
MOVI 2057 $r5
JMP  #OUT
MOVI 4106 $r5
JMP  #OUT
MOVI 6139 $r5
JMP  #OUT
MOVI 8148 $r5
JMP  #OUT
MOVI 10125 $r5
JMP  #OUT
MOVI 12062 $r5
JMP  #OUT
MOVI 13951 $r5
JMP  #OUT
MOVI 15785 $r5
JMP  #OUT
MOVI 17557 $r5
JMP  #OUT
MOVI 19259 $r5
JMP  #OUT
MOVI 20886 $r5
JMP  #OUT
MOVI 22430 $r5
JMP  #OUT
MOVI 23886 $r5
JMP  #OUT
MOVI 25247 $r5
JMP  #OUT
MOVI 26509 $r5
JMP  #OUT
MOVI 27666 $r5
JMP  #OUT
MOVI 28713 $r5
JMP  #OUT
MOVI 29648 $r5
JMP  #OUT
MOVI 30465 $r5
JMP  #OUT
MOVI 31163 $r5
JMP  #OUT
MOVI 31737 $r5
JMP  #OUT
MOVI 32186 $r5
JMP  #OUT
MOVI 32508 $r5
JMP  #OUT
MOVI 32702 $r5
JMP  #OUT
MOVI 32767 $r5
JMP  #OUT
MOVI 32702 $r5
JMP  #OUT
MOVI 32508 $r5
JMP  #OUT
MOVI 32186 $r5
JMP  #OUT
MOVI 31737 $r5
JMP  #OUT
MOVI 31163 $r5
JMP  #OUT
MOVI 30465 $r5
JMP  #OUT
MOVI 29648 $r5
JMP  #OUT
MOVI 28713 $r5
JMP  #OUT
MOVI 27666 $r5
JMP  #OUT
MOVI 26509 $r5
JMP  #OUT
MOVI 25247 $r5
JMP  #OUT
MOVI 23886 $r5
JMP  #OUT
MOVI 22430 $r5
JMP  #OUT
MOVI 20886 $r5
JMP  #OUT
MOVI 19259 $r5
JMP  #OUT
MOVI 17557 $r5
JMP  #OUT
MOVI 15785 $r5
JMP  #OUT
MOVI 13951 $r5
JMP  #OUT
MOVI 12062 $r5
JMP  #OUT
MOVI 10125 $r5
JMP  #OUT
MOVI 8148 $r5
JMP  #OUT
MOVI 6139 $r5
JMP  #OUT
MOVI 4106 $r5
JMP  #OUT
MOVI 2057 $r5
JMP  #OUT
MOVI 0 $r5
JMP  #OUT
MOVI -2057 $r5
JMP  #OUT
MOVI -4106 $r5
JMP  #OUT
MOVI -6139 $r5
JMP  #OUT
MOVI -8148 $r5
JMP  #OUT
MOVI -10125 $r5
JMP  #OUT
MOVI -12062 $r5
JMP  #OUT
MOVI -13951 $r5
JMP  #OUT
MOVI -15785 $r5
JMP  #OUT
MOVI -17557 $r5
JMP  #OUT
MOVI -19259 $r5
JMP  #OUT
MOVI -20886 $r5
JMP  #OUT
MOVI -22430 $r5
JMP  #OUT
MOVI -23886 $r5
JMP  #OUT
MOVI -25247 $r5
JMP  #OUT
MOVI -26509 $r5
JMP  #OUT
MOVI -27666 $r5
JMP  #OUT
MOVI -28713 $r5
JMP  #OUT
MOVI -29648 $r5
JMP  #OUT
MOVI -30465 $r5
JMP  #OUT
MOVI -31163 $r5
JMP  #OUT
MOVI -31737 $r5
JMP  #OUT
MOVI -32186 $r5
JMP  #OUT
MOVI -32508 $r5
JMP  #OUT
MOVI -32702 $r5
JMP  #OUT
MOVI -32767 $r5
JMP  #OUT
MOVI -32702 $r5
JMP  #OUT
MOVI -32508 $r5
JMP  #OUT
MOVI -32186 $r5
JMP  #OUT
MOVI -31737 $r5
JMP  #OUT
MOVI -31163 $r5
JMP  #OUT
MOVI -30465 $r5
JMP  #OUT
MOVI -29648 $r5
JMP  #OUT
MOVI -28713 $r5
JMP  #OUT
MOVI -27666 $r5
JMP  #OUT
MOVI -26509 $r5
JMP  #OUT
MOVI -25247 $r5
JMP  #OUT
MOVI -23886 $r5
JMP  #OUT
MOVI -22430 $r5
JMP  #OUT
MOVI -20886 $r5
JMP  #OUT
MOVI -19259 $r5
JMP  #OUT
MOVI -17557 $r5
JMP  #OUT
MOVI -15785 $r5
JMP  #OUT
MOVI -13951 $r5
JMP  #OUT
MOVI -12062 $r5
JMP  #OUT
MOVI -10125 $r5
JMP  #OUT
MOVI -8148 $r5
JMP  #OUT
MOVI -6139 $r5
JMP  #OUT
MOVI -4106 $r5
JMP  #OUT
MOVI -2057 $r5
MOVI #SineStart $r7
SUBI $r7 2 $r7
OUT:
NOP
NOP
ADDI $r7 2 $r7
STORE $r5 [65010]
POP $pc